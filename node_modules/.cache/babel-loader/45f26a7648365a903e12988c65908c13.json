{"ast":null,"code":"var _jsxFileName = \"/home/gianluca/Documenti/Scuola/Informatica/Progetto/AboutMi/src/components/ReviewModal.js\";\nimport React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Card from 'react-bootstrap/Card';\nimport Toast from 'react-bootstrap/Toast';\nimport StarRatings from 'react-star-ratings';\nconst starIcon = \"m61 61v-24c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v3.074l-4-5.167v-10.907h2v-2h-2v-5c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v5h-2v-5c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.003.013-.002.027-.004.041l-4.224-5.457c-.379-.489-1.203-.489-1.582 0l-4.224 5.457c-.002-.013-.001-.027-.004-.041l-1.982-9.902v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v5h-2v-5c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v5h-2v2h2v10.908l-4 5.167v-3.075c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v24h-2v2h3 4 6 4 4 4 12 4 4 4 6 4 3v-2zm-2-8h-2v-9h2zm-2 2h2v2h-2zm1-22.901 1 5v4.901h-2v-4.901zm-3 11.243v17.658h-4v-22.824zm-14 9.658h-2v-29h2zm-2 2h2v2h-2zm4-27.158 2 2.583v30.575h-2zm4 27.158h2v2h-2zm2-2h-2v-29h2zm-2-35.901 1-5 1 5v4.901h-2zm-2 6.901v3.158l-2-2.583v-.575zm-5-11.901 1 5v4.901h-2v-4.901zm-8 1.534 5 6.459v1.908h-2v2h2v37h-2v-11c0-1.654-1.346-3-3-3s-3 1.346-3 3v11h-2v-37h2v-2h-2v-1.908zm1 47.367h-2v-11c0-.551.448-1 1-1s1 .449 1 1zm-18-6h2v2h-2zm4-24.574 2-2.583v33.157h-2zm6 22.574h-2v-29h2zm-2 2h2v2h-2zm0-37.901 1-5 1 5v4.901h-2zm-2 6.901v.574l-2 2.583v-3.157zm-6-6.901 1-5 1 5v4.901h-2zm2 6.901v29h-2v-29zm-4 14.176v22.824h-4v-17.658zm-6 14.824h-2v-9h2zm0 2v2h-2v-2zm-1-22.901 1 5v4.901h-2v-4.901zm-1 28.901v-2h2v2zm10 0v-2h2v2zm8 0v-2h2v2zm16 0v-2h2v2zm8 0v-2h2v2zm10 0v-2h2v2z\";\n\nclass ReviewModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeRating = newRating => {\n      this.setState({\n        rating: newRating\n      });\n    };\n\n    this.addValutation = () => {\n      console.log(\"starred\");\n      this.setState({\n        reviewToast: true\n      });\n      const t = fetch(\"/add/valutation\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          nomelocale: this.props.placename,\n          commento: this.state.commento,\n          valutazione: this.state.rating,\n          utente: this.props.user\n        })\n      }).then(response => {\n        response.text().then(text => {\n          if (text === \"200\") {\n            alert(\"Commento pubblicato con successo\");\n            console.log(\"toast\");\n            this.setState({\n              toastNotification: true\n            });\n          }\n\n          return text;\n        });\n      });\n      return t;\n    };\n\n    this.state = {\n      commento: \"\",\n      valutazione: 0,\n      toastNotification: false,\n      rating: 0,\n      reviewToast: false\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal, Object.assign({}, this.props, {\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      style: {\n        fontSize: '1.1rem',\n        fontWeight: '900',\n        color: '#777'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, this.props.placename)), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'block',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        display: 'block',\n        margin: '0 0 .5rem 0',\n        color: '#777',\n        fontSize: '1.1rem',\n        fontWeight: '400',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, \"Recensioni dei Clienti\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"review-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, this.props.status && this.props.comments.comments.map((body, i) => /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginBottom: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      as: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, body.utente), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(StarRatings, {\n      rating: body.valutazione,\n      starDimension: \"35px\",\n      starSpacing: \"15px\",\n      svgIconPath: starIcon,\n      svgIconViewBox: \"0 0 65 65\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }, body.commento))))))), this.props.canComment && /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '100%',\n        flexDirection: 'column'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'block',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '100%',\n        color: '#777',\n        paddingBottom: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, \"QUA VA INSERITA LA VALUTAZIONE (0-5)\"), /*#__PURE__*/React.createElement(StarRatings, {\n      rating: this.state.rating,\n      starHoverColor: \"#004ffc\",\n      starRatedColor: \"#1541ab\",\n      changeRating: this.changeRating,\n      numberOfStars: 5,\n      name: \"rating\",\n      svgIconPath: starIcon,\n      svgIconViewBox: \"0 0 65 65\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        display: 'block',\n        margin: '0 0 .5rem 0',\n        color: '#777',\n        fontSize: '1.1rem',\n        fontWeight: '400'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, \"Scrivi la tua recensione: \"), /*#__PURE__*/React.createElement(\"textarea\", {\n      style: {\n        width: '100%',\n        maxHeight: '250px',\n        minHeight: '50px',\n        margin: '0 0 1.5rem 0',\n        padding: '15px',\n        border: 'none',\n        borderRadius: '8px',\n        outline: 'none',\n        caretColor: '#004ffc',\n        background: '#f1f1f1',\n        fontSize: '.9rem'\n      },\n      placeholder: \"Scrivi qui la tua recensione\",\n      onChange: e => this.setState({\n        commento: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-btn\",\n      onClick: () => this.addValutation(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, \"Pubblica Recensione\"))))), !this.props.canComment && /*#__PURE__*/React.createElement(Modal.Footer, {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'flex-start'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        color: '#777',\n        fontWeight: '900'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, \"Per pubblicare una recesione devi prima possedere un account!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-btn\",\n      onClick: () => {\n        this.props.router(\"\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, \"Accedi o Registrati\"))), this.state.reviewToast && /*#__PURE__*/React.createElement(Toast, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, \"Perfetto!\")), /*#__PURE__*/React.createElement(Toast.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, \"Hai completato la restistazione, ora puoi tornare alla HomePage ed effettuare il Login!\")));\n  }\n\n}\n\nexport default ReviewModal;","map":{"version":3,"sources":["/home/gianluca/Documenti/Scuola/Informatica/Progetto/AboutMi/src/components/ReviewModal.js"],"names":["React","Modal","Card","Toast","StarRatings","starIcon","ReviewModal","Component","constructor","props","changeRating","newRating","setState","rating","addValutation","console","log","reviewToast","t","fetch","method","headers","body","JSON","stringify","nomelocale","placename","commento","state","valutazione","utente","user","then","response","text","alert","toastNotification","render","fontSize","fontWeight","color","display","width","margin","status","comments","map","i","marginBottom","canComment","justifyContent","flexDirection","paddingBottom","maxHeight","minHeight","padding","border","borderRadius","outline","caretColor","background","e","target","value","alignItems","router"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Card from 'react-bootstrap/Card';\nimport Toast from 'react-bootstrap/Toast';\nimport StarRatings from 'react-star-ratings';\n\n\nconst starIcon = \"m61 61v-24c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v3.074l-4-5.167v-10.907h2v-2h-2v-5c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v5h-2v-5c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.003.013-.002.027-.004.041l-4.224-5.457c-.379-.489-1.203-.489-1.582 0l-4.224 5.457c-.002-.013-.001-.027-.004-.041l-1.982-9.902v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v5h-2v-5c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v5h-2v2h2v10.908l-4 5.167v-3.075c0-.066-.007-.131-.02-.196l-1.98-9.903v-5.901h-2v5.901l-1.98 9.902c-.013.066-.02.131-.02.197v24h-2v2h3 4 6 4 4 4 12 4 4 4 6 4 3v-2zm-2-8h-2v-9h2zm-2 2h2v2h-2zm1-22.901 1 5v4.901h-2v-4.901zm-3 11.243v17.658h-4v-22.824zm-14 9.658h-2v-29h2zm-2 2h2v2h-2zm4-27.158 2 2.583v30.575h-2zm4 27.158h2v2h-2zm2-2h-2v-29h2zm-2-35.901 1-5 1 5v4.901h-2zm-2 6.901v3.158l-2-2.583v-.575zm-5-11.901 1 5v4.901h-2v-4.901zm-8 1.534 5 6.459v1.908h-2v2h2v37h-2v-11c0-1.654-1.346-3-3-3s-3 1.346-3 3v11h-2v-37h2v-2h-2v-1.908zm1 47.367h-2v-11c0-.551.448-1 1-1s1 .449 1 1zm-18-6h2v2h-2zm4-24.574 2-2.583v33.157h-2zm6 22.574h-2v-29h2zm-2 2h2v2h-2zm0-37.901 1-5 1 5v4.901h-2zm-2 6.901v.574l-2 2.583v-3.157zm-6-6.901 1-5 1 5v4.901h-2zm2 6.901v29h-2v-29zm-4 14.176v22.824h-4v-17.658zm-6 14.824h-2v-9h2zm0 2v2h-2v-2zm-1-22.901 1 5v4.901h-2v-4.901zm-1 28.901v-2h2v2zm10 0v-2h2v2zm8 0v-2h2v2zm16 0v-2h2v2zm8 0v-2h2v2zm10 0v-2h2v2z\";\n\nclass ReviewModal extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      commento: \"\",\n      valutazione: 0,\n      toastNotification: false,\n      rating: 0,\n      reviewToast: false\n    }\n  }\n\n\n  changeRating = (newRating) => {\n    this.setState({\n      rating: newRating\n    });\n  }\n\n  addValutation = () => {\n    console.log(\"starred\")\n    this.setState({reviewToast: true});\n    const t = fetch(\"/add/valutation\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        nomelocale: this.props.placename,\n        commento: this.state.commento,\n        valutazione: this.state.rating,\n        utente: this.props.user\n      })\n    }).then(response => {\n      response.text().then((text) => {\n        if (text === \"200\") {\n          alert(\"Commento pubblicato con successo\");\n          console.log(\"toast\")\n          this.setState({ toastNotification: true })\n        }\n        return text;\n      });\n    });\n    return t;\n  };\n\n  render() {\n    console.log(this.props)\n    return (\n      <div>\n        {/*\n          this.state.toastNotification && \n          <div style={{ position: 'absolute',minHeight: '100px', zIndex: '9999'}}>\n            <Toast\n              style={{\n                position: 'absolute',\n                top: 0,\n                right: 0,\n              }}>\n              <Toast.Header>\n                <img src=\"holder.js/20x20?text=%20\" className=\"rounded mr-2\" alt=\"\" />\n                <strong className=\"mr-auto\">Bootstrap</strong>\n                <small>just now</small>\n              </Toast.Header>\n              <Toast.Body>See? Just like this.</Toast.Body>\n            </Toast>\n          </div> */}\n        <Modal\n          {...this.props}\n          size=\"lg\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n        >\n\n          <Modal.Header closeButton>\n            <Modal.Title id=\"contained-modal-title-vcenter\"\n              style={{\n                fontSize: '1.1rem',\n                fontWeight: '900',\n                color: '#777'\n              }}>\n              {this.props.placename}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div style={{\n              display: 'block',\n              width: '100%'\n            }}>\n              <label style={{\n                display: 'block',\n                margin: '0 0 .5rem 0',\n                color: '#777',\n                fontSize: '1.1rem',\n                fontWeight: '400',\n                width: '100%'\n              }}>Recensioni dei Clienti</label>\n              <div className=\"review-container\">\n                {this.props.status && this.props.comments.comments.map((body, i) => (\n                  <Card style={{\n                    marginBottom:\"10px\"\n                  }}>\n                    <Card.Header as=\"h5\">{body.utente}</Card.Header>\n                    <Card.Body>\n                      <StarRatings\n                        rating={body.valutazione}\n                        starDimension=\"35px\"\n                        starSpacing=\"15px\"\n                        svgIconPath= {starIcon}\n                        svgIconViewBox=\"0 0 65 65\"\n                      />\n                      <Card.Text>\n                        {body.commento}\n                      </Card.Text>\n                    </Card.Body>\n                  </Card>\n                ))}\n              </div>\n            </div>\n          </Modal.Body>\n          {this.props.canComment && <Modal.Body>\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              width: '100%',\n              flexDirection: 'column'\n            }}>\n              <div style={{\n              }}>\n                <div style={{\n                  display: 'block',\n                  width: '100%'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    width: '100%',\n                    color: '#777',\n                    paddingBottom: '20px'\n                  }}>QUA VA INSERITA LA VALUTAZIONE (0-5)</div>\n                  <StarRatings\n                    rating={this.state.rating}\n                    starHoverColor=\"#004ffc\"\n                    starRatedColor=\"#1541ab\"\n                    changeRating={this.changeRating}\n                    numberOfStars={5}\n                    name='rating'\n                    svgIconPath= {starIcon}\n                    svgIconViewBox=\"0 0 65 65\"\n                  />\n                  <label style={{\n                    display: 'block',\n                    margin: '0 0 .5rem 0',\n                    color: '#777',\n                    fontSize: '1.1rem',\n                    fontWeight: '400'\n                  }}>Scrivi la tua recensione: </label>\n                  <textarea style={{\n                    width: '100%',\n                    maxHeight: '250px',\n                    minHeight: '50px',\n                    margin: '0 0 1.5rem 0',\n                    padding: '15px',\n                    border: 'none',\n                    borderRadius: '8px',\n                    outline: 'none',\n                    caretColor: '#004ffc',\n                    background: '#f1f1f1',\n                    fontSize: '.9rem'\n                  }} placeholder=\"Scrivi qui la tua recensione\" onChange={e => this.setState({ commento: e.target.value })}></textarea>\n                  <div className=\"custom-btn\" onClick={() => this.addValutation()}>Pubblica Recensione</div>\n                </div>\n              </div>\n            </div>\n          </Modal.Body>}\n          {!this.props.canComment &&\n            <Modal.Footer style={{\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'flex-start',\n              alignItems: 'flex-start'\n            }}>\n              <div style={{\n                width: '100%',\n                color: '#777',\n                fontWeight: '900'\n              }}>Per pubblicare una recesione devi prima possedere un account!</div>\n              <div className=\"custom-btn\" onClick={() => { this.props.router(\"\"); }}>Accedi o Registrati</div>\n            </Modal.Footer>}\n        </Modal>\n        {this.state.reviewToast && \n          <Toast>\n            <Toast.Header>\n              <strong className=\"mr-auto\">Perfetto!</strong>\n            </Toast.Header>\n            <Toast.Body>Hai completato la restistazione, ora puoi tornare alla HomePage ed effettuare il Login!</Toast.Body>\n        </Toast>\n        }\n      </div>\n    );\n  }\n\n}\nexport default ReviewModal;\n"]},"metadata":{},"sourceType":"module"}