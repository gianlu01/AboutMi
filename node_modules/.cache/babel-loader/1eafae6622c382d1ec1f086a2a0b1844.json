{"ast":null,"code":"var jsonlint = require('jsonlint-lines'),\n    geojsonHintObject = require('./object');\n/**\r\n * @alias geojsonhint\r\n * @param {(string|object)} GeoJSON given as a string or as an object\r\n * @param {Object} options\r\n * @param {boolean} [options.noDuplicateMembers=true] forbid repeated\r\n * properties. This is only available for string input, becaused parsed\r\n * Objects cannot have duplicate properties.\r\n * @param {boolean} [options.precisionWarning=true] warn if GeoJSON contains\r\n * unnecessary coordinate precision.\r\n * @returns {Array<Object>} an array of errors\r\n */\n\n\nfunction hint(str, options) {\n  var gj,\n      errors = [];\n\n  if (typeof str === 'object') {\n    gj = str;\n  } else if (typeof str === 'string') {\n    try {\n      gj = jsonlint.parse(str);\n    } catch (e) {\n      var match = e.message.match(/line (\\d+)/);\n      var lineNumber = parseInt(match[1], 10);\n      return [{\n        line: lineNumber - 1,\n        message: e.message,\n        error: e\n      }];\n    }\n  } else {\n    return [{\n      message: 'Expected string or object as input',\n      line: 0\n    }];\n  }\n\n  errors = errors.concat(geojsonHintObject.hint(gj, options));\n  return errors;\n}\n\nmodule.exports.hint = hint;","map":null,"metadata":{},"sourceType":"script"}