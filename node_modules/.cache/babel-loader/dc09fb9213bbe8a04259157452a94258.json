{"ast":null,"code":"var geojsonCoords = require('@mapbox/geojson-coords'),\n    traverse = require('traverse'),\n    extent = require('@mapbox/extent');\n\nvar geojsonTypesByDataAttributes = {\n  features: ['FeatureCollection'],\n  coordinates: ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'],\n  geometry: ['Feature'],\n  geometries: ['GeometryCollection']\n};\nvar dataAttributes = Object.keys(geojsonTypesByDataAttributes);\n\nmodule.exports = function (_) {\n  return getExtent(_).bbox();\n};\n\nmodule.exports.polygon = function (_) {\n  return getExtent(_).polygon();\n};\n\nmodule.exports.bboxify = function (_) {\n  return traverse(_).map(function (value) {\n    if (!value) return;\n    var isValid = dataAttributes.some(function (attribute) {\n      if (value[attribute]) {\n        return geojsonTypesByDataAttributes[attribute].indexOf(value.type) !== -1;\n      }\n\n      return false;\n    });\n\n    if (isValid) {\n      value.bbox = getExtent(value).bbox();\n      this.update(value);\n    }\n  });\n};\n\nfunction getExtent(_) {\n  var bbox = [Infinity, Infinity, -Infinity, -Infinity],\n      ext = extent(),\n      coords = geojsonCoords(_);\n\n  for (var i = 0; i < coords.length; i++) ext.include(coords[i]);\n\n  return ext;\n}","map":{"version":3,"sources":["/home/gianluca/Documenti/Scuola/Informatica/Progetto/AboutMi/node_modules/@mapbox/geojson-extent/index.js"],"names":["geojsonCoords","require","traverse","extent","geojsonTypesByDataAttributes","features","coordinates","geometry","geometries","dataAttributes","Object","keys","module","exports","_","getExtent","bbox","polygon","bboxify","map","value","isValid","some","attribute","indexOf","type","update","Infinity","ext","coords","i","length","include"],"mappings":"AAAA,IAAIA,aAAa,GAAGC,OAAO,CAAC,wBAAD,CAA3B;AAAA,IACIC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CADtB;AAAA,IAEIE,MAAM,GAAGF,OAAO,CAAC,gBAAD,CAFpB;;AAIA,IAAIG,4BAA4B,GAAG;AAC/BC,EAAAA,QAAQ,EAAE,CAAC,mBAAD,CADqB;AAE/BC,EAAAA,WAAW,EAAE,CAAC,OAAD,EAAU,YAAV,EAAwB,YAAxB,EAAsC,iBAAtC,EAAyD,SAAzD,EAAoE,cAApE,CAFkB;AAG/BC,EAAAA,QAAQ,EAAE,CAAC,SAAD,CAHqB;AAI/BC,EAAAA,UAAU,EAAE,CAAC,oBAAD;AAJmB,CAAnC;AAOA,IAAIC,cAAc,GAAGC,MAAM,CAACC,IAAP,CAAYP,4BAAZ,CAArB;;AAEAQ,MAAM,CAACC,OAAP,GAAiB,UAASC,CAAT,EAAY;AACzB,SAAOC,SAAS,CAACD,CAAD,CAAT,CAAaE,IAAb,EAAP;AACH,CAFD;;AAIAJ,MAAM,CAACC,OAAP,CAAeI,OAAf,GAAyB,UAASH,CAAT,EAAY;AACjC,SAAOC,SAAS,CAACD,CAAD,CAAT,CAAaG,OAAb,EAAP;AACH,CAFD;;AAIAL,MAAM,CAACC,OAAP,CAAeK,OAAf,GAAyB,UAASJ,CAAT,EAAY;AACjC,SAAOZ,QAAQ,CAACY,CAAD,CAAR,CAAYK,GAAZ,CAAgB,UAASC,KAAT,EAAgB;AACnC,QAAI,CAACA,KAAL,EAAY;AAEZ,QAAIC,OAAO,GAAGZ,cAAc,CAACa,IAAf,CAAoB,UAASC,SAAT,EAAmB;AACjD,UAAGH,KAAK,CAACG,SAAD,CAAR,EAAqB;AACjB,eAAOnB,4BAA4B,CAACmB,SAAD,CAA5B,CAAwCC,OAAxC,CAAgDJ,KAAK,CAACK,IAAtD,MAAgE,CAAC,CAAxE;AACH;;AACD,aAAO,KAAP;AACH,KALa,CAAd;;AAOA,QAAGJ,OAAH,EAAW;AACPD,MAAAA,KAAK,CAACJ,IAAN,GAAaD,SAAS,CAACK,KAAD,CAAT,CAAiBJ,IAAjB,EAAb;AACA,WAAKU,MAAL,CAAYN,KAAZ;AACH;AAEJ,GAfM,CAAP;AAgBH,CAjBD;;AAmBA,SAASL,SAAT,CAAmBD,CAAnB,EAAsB;AAClB,MAAIE,IAAI,GAAG,CAACW,QAAD,EAAWA,QAAX,EAAqB,CAACA,QAAtB,EAAgC,CAACA,QAAjC,CAAX;AAAA,MACIC,GAAG,GAAGzB,MAAM,EADhB;AAAA,MAEI0B,MAAM,GAAG7B,aAAa,CAACc,CAAD,CAF1B;;AAGA,OAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAAM,CAACE,MAA3B,EAAmCD,CAAC,EAApC,EAAwCF,GAAG,CAACI,OAAJ,CAAYH,MAAM,CAACC,CAAD,CAAlB;;AACxC,SAAOF,GAAP;AACH","sourcesContent":["var geojsonCoords = require('@mapbox/geojson-coords'),\n    traverse = require('traverse'),\n    extent = require('@mapbox/extent');\n\nvar geojsonTypesByDataAttributes = {\n    features: ['FeatureCollection'],\n    coordinates: ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'],\n    geometry: ['Feature'],\n    geometries: ['GeometryCollection']\n}\n\nvar dataAttributes = Object.keys(geojsonTypesByDataAttributes);\n\nmodule.exports = function(_) {\n    return getExtent(_).bbox();\n};\n\nmodule.exports.polygon = function(_) {\n    return getExtent(_).polygon();\n};\n\nmodule.exports.bboxify = function(_) {\n    return traverse(_).map(function(value) {\n        if (!value) return ;\n\n        var isValid = dataAttributes.some(function(attribute){\n            if(value[attribute]) {\n                return geojsonTypesByDataAttributes[attribute].indexOf(value.type) !== -1;\n            }\n            return false;\n        });\n\n        if(isValid){\n            value.bbox = getExtent(value).bbox();\n            this.update(value);\n        }\n\n    });\n};\n\nfunction getExtent(_) {\n    var bbox = [Infinity, Infinity, -Infinity, -Infinity],\n        ext = extent(),\n        coords = geojsonCoords(_);\n    for (var i = 0; i < coords.length; i++) ext.include(coords[i]);\n    return ext;\n}\n"]},"metadata":{},"sourceType":"script"}