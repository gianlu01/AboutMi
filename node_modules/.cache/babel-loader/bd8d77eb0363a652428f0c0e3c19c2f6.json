{"ast":null,"code":"import sort from './sort';\nimport range from './range';\nimport within from './within';\n\nconst defaultGetX = p => p[0];\n\nconst defaultGetY = p => p[1];\n\nexport default class KDBush {\n  constructor(points, getX = defaultGetX, getY = defaultGetY, nodeSize = 64, ArrayType = Float64Array) {\n    this.nodeSize = nodeSize;\n    this.points = points;\n    const IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n    const ids = this.ids = new IndexArrayType(points.length);\n    const coords = this.coords = new ArrayType(points.length * 2);\n\n    for (let i = 0; i < points.length; i++) {\n      ids[i] = i;\n      coords[2 * i] = getX(points[i]);\n      coords[2 * i + 1] = getY(points[i]);\n    }\n\n    sort(ids, coords, nodeSize, 0, ids.length - 1, 0);\n  }\n\n  range(minX, minY, maxX, maxY) {\n    return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n  }\n\n  within(x, y, r) {\n    return within(this.ids, this.coords, x, y, r, this.nodeSize);\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}