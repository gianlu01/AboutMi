"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.featureStyle = featureStyle;
exports.editHandleStyle = editHandleStyle;

var _constants = require("./constants");

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var RECT_STYLE = {
  stroke: '#7ac943',
  strokeWidth: 2,
  x: -6,
  y: -6,
  height: 12,
  width: 12
};
var CIRCLE_RADIUS = 8;
var SELECTED_STYLE = {
  stroke: '#7ac943',
  strokeWidth: 2,
  fill: '#ffff00',
  fillOpacity: 0.7
};
var HOVERED_STYLE = {
  stroke: '#7ac943',
  strokeWidth: 2,
  fill: '#7ac943',
  fillOpacity: 0.5
};
var UNCOMMITTED_STYLE = {
  stroke: '#a7a7a7',
  strokeWidth: 2,
  fill: '#a9a9a9',
  fillOpacity: 0.3
};
var INACTIVE_STYLE = UNCOMMITTED_STYLE;
var DEFAULT_STYLE = {
  stroke: '#000000',
  strokeWidth: 2,
  fill: '#a9a9a9',
  fillOpacity: 0.1
};

function featureStyle(_ref) {
  var feature = _ref.feature,
      state = _ref.state;
  var renderType = feature.properties.renderType;
  var style = null;

  switch (state) {
    case _constants.RENDER_STATE.SELECTED:
      style = _objectSpread({}, SELECTED_STYLE);
      break;

    case _constants.RENDER_STATE.HOVERED:
      style = _objectSpread({}, HOVERED_STYLE);
      break;

    case _constants.RENDER_STATE.UNCOMMITTED:
    case _constants.RENDER_STATE.CLOSING:
      style = _objectSpread({}, UNCOMMITTED_STYLE);
      break;

    case _constants.RENDER_STATE.INACTIVE:
      style = _objectSpread({}, INACTIVE_STYLE);
      break;

    default:
      style = _objectSpread({}, DEFAULT_STYLE);
  }

  switch (renderType) {
    case _constants.RENDER_TYPE.POINT:
      style.r = CIRCLE_RADIUS;
      break;

    case _constants.RENDER_TYPE.LINE_STRING:
      style.fill = 'none';
      break;

    case _constants.RENDER_TYPE.POLYGON:
      if (state === _constants.RENDER_STATE.CLOSING) {
        style.strokeDasharray = '4,2';
      }

      break;

    case _constants.RENDER_TYPE.RECTANGLE:
      if (state === _constants.RENDER_STATE.UNCOMMITTED) {
        style.strokeDasharray = '4,2';
      }

      break;

    default:
  }

  return style;
}

function editHandleStyle(_ref2) {
  var feature = _ref2.feature,
      shape = _ref2.shape,
      index = _ref2.index,
      state = _ref2.state;
  var style = {};

  switch (state) {
    case _constants.RENDER_STATE.SELECTED:
      style = _objectSpread({}, SELECTED_STYLE);
      break;

    case _constants.RENDER_STATE.HOVERED:
      style = _objectSpread({}, HOVERED_STYLE);
      break;

    case _constants.RENDER_STATE.UNCOMMITTED:
    case _constants.RENDER_STATE.CLOSING:
      style = _objectSpread({}, UNCOMMITTED_STYLE);
      break;

    case _constants.RENDER_STATE.INACTIVE:
      style = _objectSpread({}, INACTIVE_STYLE);
      break;

    default:
      style = _objectSpread({}, DEFAULT_STYLE);
  }

  switch (shape) {
    case 'circle':
      style.r = CIRCLE_RADIUS;
      break;

    case 'rect':
      style = _objectSpread({}, style, RECT_STYLE);
      break;

    default:
  }

  return style;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zdHlsZS5qcyJdLCJuYW1lcyI6WyJSRUNUX1NUWUxFIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJ4IiwieSIsImhlaWdodCIsIndpZHRoIiwiQ0lSQ0xFX1JBRElVUyIsIlNFTEVDVEVEX1NUWUxFIiwiZmlsbCIsImZpbGxPcGFjaXR5IiwiSE9WRVJFRF9TVFlMRSIsIlVOQ09NTUlUVEVEX1NUWUxFIiwiSU5BQ1RJVkVfU1RZTEUiLCJERUZBVUxUX1NUWUxFIiwiZmVhdHVyZVN0eWxlIiwiZmVhdHVyZSIsInN0YXRlIiwicmVuZGVyVHlwZSIsInByb3BlcnRpZXMiLCJzdHlsZSIsIlJFTkRFUl9TVEFURSIsIlNFTEVDVEVEIiwiSE9WRVJFRCIsIlVOQ09NTUlUVEVEIiwiQ0xPU0lORyIsIklOQUNUSVZFIiwiUkVOREVSX1RZUEUiLCJQT0lOVCIsInIiLCJMSU5FX1NUUklORyIsIlBPTFlHT04iLCJzdHJva2VEYXNoYXJyYXkiLCJSRUNUQU5HTEUiLCJlZGl0SGFuZGxlU3R5bGUiLCJzaGFwZSIsImluZGV4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxJQUFNQSxVQUFVLEdBQUc7QUFDakJDLEVBQUFBLE1BQU0sRUFBRSxTQURTO0FBRWpCQyxFQUFBQSxXQUFXLEVBQUUsQ0FGSTtBQUdqQkMsRUFBQUEsQ0FBQyxFQUFFLENBQUMsQ0FIYTtBQUlqQkMsRUFBQUEsQ0FBQyxFQUFFLENBQUMsQ0FKYTtBQUtqQkMsRUFBQUEsTUFBTSxFQUFFLEVBTFM7QUFNakJDLEVBQUFBLEtBQUssRUFBRTtBQU5VLENBQW5CO0FBU0EsSUFBTUMsYUFBYSxHQUFHLENBQXRCO0FBRUEsSUFBTUMsY0FBYyxHQUFHO0FBQ3JCUCxFQUFBQSxNQUFNLEVBQUUsU0FEYTtBQUVyQkMsRUFBQUEsV0FBVyxFQUFFLENBRlE7QUFHckJPLEVBQUFBLElBQUksRUFBRSxTQUhlO0FBSXJCQyxFQUFBQSxXQUFXLEVBQUU7QUFKUSxDQUF2QjtBQU9BLElBQU1D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QjtBQUNFTixNQUFBQSxLQUFLLHFCQUFRUCxjQUFSLENBQUw7QUFDQTs7QUFFRjtBQUNFTyxNQUFBQSxLQUFLLHFCQUFRTixhQUFSLENBQUw7QUFuQko7O0FBc0JBLFVBQVFxQixLQUFSO0FBQ0UsU0FBSyxRQUFMO0FBQ0VmLE1BQUFBLEtBQUssQ0FBQ1MsQ0FBTixHQUFVdEIsYUFBVjtBQUNBOztBQUNGLFNBQUssTUFBTDtBQUNFYSxNQUFBQSxLQUFLLHFCQUFRQSxLQUFSLEVBQWtCcEIsVUFBbEIsQ0FBTDtBQUNBOztBQUNGO0FBUEY7O0FBVUEsU0FBT29CLEtBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJFTkRFUl9TVEFURSwgUkVOREVSX1RZUEUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNvbnN0IFJFQ1RfU1RZTEUgPSB7XG4gIHN0cm9rZTogJyM3YWM5NDMnLFxuICBzdHJva2VXaWR0aDogMixcbiAgeDogLTYsXG4gIHk6IC02LFxuICBoZWlnaHQ6IDEyLFxuICB3aWR0aDogMTJcbn07XG5cbmNvbnN0IENJUkNMRV9SQURJVVMgPSA4O1xuXG5jb25zdCBTRUxFQ1RFRF9TVFlMRSA9IHtcbiAgc3Ryb2tlOiAnIzdhYzk0MycsXG4gIHN0cm9rZVdpZHRoOiAyLFxuICBmaWxsOiAnI2ZmZmYwMCcsXG4gIGZpbGxPcGFjaXR5OiAwLjdcbn07XG5cbmNvbnN0IEhPVkVSRURfU1RZTEUgPSB7XG4gIHN0cm9rZTogJyM3YWM5NDMnLFxuICBzdHJva2VXaWR0aDogMixcbiAgZmlsbDogJyM3YWM5NDMnLFxuICBmaWxsT3BhY2l0eTogMC41XG59O1xuXG5jb25zdCBVTkNPTU1JVFRFRF9TVFlMRSA9IHtcbiAgc3Ryb2tlOiAnI2E3YTdhNycsXG4gIHN0cm9rZVdpZHRoOiAyLFxuICBmaWxsOiAnI2E5YTlhOScsXG4gIGZpbGxPcGFjaXR5OiAwLjNcbn07XG5cbmNvbnN0IElOQUNUSVZFX1NUWUxFID0gVU5DT01NSVRURURfU1RZTEU7XG5cbmNvbnN0IERFRkFVTFRfU1RZTEUgPSB7XG4gIHN0cm9rZTogJyMwMDAwMDAnLFxuICBzdHJva2VXaWR0aDogMixcbiAgZmlsbDogJyNhOWE5YTknLFxuICBmaWxsT3BhY2l0eTogMC4xXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZVN0eWxlKHsgZmVhdHVyZSwgc3RhdGUgfSkge1xuICBjb25zdCByZW5kZXJUeXBlID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnJlbmRlclR5cGU7XG4gIGxldCBzdHlsZSA9IG51bGw7XG5cbiAgc3dpdGNoIChzdGF0ZSkge1xuICAgIGNhc2UgUkVOREVSX1NUQVRFLlNFTEVDVEVEOlxuICAgICAgc3R5bGUgPSB7IC4uLlNFTEVDVEVEX1NUWUxFIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgUkVOREVSX1NUQVRFLkhPVkVSRUQ6XG4gICAgICBzdHlsZSA9IHsgLi4uSE9WRVJFRF9TVFlMRSB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRDpcbiAgICBjYXNlIFJFTkRFUl9TVEFURS5DTE9TSU5HOlxuICAgICAgc3R5bGUgPSB7IC4uLlVOQ09NTUlUVEVEX1NUWUxFIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgUkVOREVSX1NUQVRFLklOQUNUSVZFOlxuICAgICAgc3R5bGUgPSB7IC4uLklOQUNUSVZFX1NUWUxFIH07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBzdHlsZSA9IHsgLi4uREVGQVVMVF9TVFlMRSB9O1xuICB9XG5cbiAgc3dpdGNoIChyZW5kZXJUeXBlKSB7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5QT0lOVDpcbiAgICAgIHN0eWxlLnIgPSBDSVJDTEVfUkFESVVTO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5MSU5FX1NUUklORzpcbiAgICAgIHN0eWxlLmZpbGwgPSAnbm9uZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFJFTkRFUl9UWVBFLlBPTFlHT046XG4gICAgICBpZiAoc3RhdGUgPT09IFJFTkRFUl9TVEFURS5DTE9TSU5HKSB7XG4gICAgICAgIHN0eWxlLnN0cm9rZURhc2hhcnJheSA9ICc0LDInO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5SRUNUQU5HTEU6XG4gICAgICBpZiAoc3RhdGUgPT09IFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRCkge1xuICAgICAgICBzdHlsZS5zdHJva2VEYXNoYXJyYXkgPSAnNCwyJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0SGFuZGxlU3R5bGUoeyBmZWF0dXJlLCBzaGFwZSwgaW5kZXgsIHN0YXRlIH0pIHtcbiAgbGV0IHN0eWxlID0ge307XG4gIHN3aXRjaCAoc3RhdGUpIHtcbiAgICBjYXNlIFJFTkRFUl9TVEFURS5TRUxFQ1RFRDpcbiAgICAgIHN0eWxlID0geyAuLi5TRUxFQ1RFRF9TVFlMRSB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFJFTkRFUl9TVEFURS5IT1ZFUkVEOlxuICAgICAgc3R5bGUgPSB7IC4uLkhPVkVSRURfU1RZTEUgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBSRU5ERVJfU1RBVEUuVU5DT01NSVRURUQ6XG4gICAgY2FzZSBSRU5ERVJfU1RBVEUuQ0xPU0lORzpcbiAgICAgIHN0eWxlID0geyAuLi5VTkNPTU1JVFRFRF9TVFlMRSB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFJFTkRFUl9TVEFURS5JTkFDVElWRTpcbiAgICAgIHN0eWxlID0geyAuLi5JTkFDVElWRV9TVFlMRSB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgc3R5bGUgPSB7IC4uLkRFRkFVTFRfU1RZTEUgfTtcbiAgfVxuXG4gIHN3aXRjaCAoc2hhcGUpIHtcbiAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgc3R5bGUuciA9IENJUkNMRV9SQURJVVM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyZWN0JzpcbiAgICAgIHN0eWxlID0geyAuLi5zdHlsZSwgLi4uUkVDVF9TVFlMRSB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cbiJdfQ==